[{"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/EnquiryForm.jsx":"1","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Home.js":"2","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/NewUser.js":"3","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Services/enquiryServices.js":"4","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Posts.js":"5","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Adminenquiries.js":"6","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Main.js":"7","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/SignIn.js":"8","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/utils/stateReducer.js":"9","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Enquiry.js":"10","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Post.js":"11","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Services/postServices.js":"12","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/NewPost.js":"13","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/About.js":"14","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Gallery.js":"15","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Adminposts.js":"16","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/utils/stateContext.js":"17"},{"size":4641,"mtime":1612512144291,"results":"18","hashOfConfig":"19"},{"size":446,"mtime":1612429725966,"results":"20","hashOfConfig":"19"},{"size":1564,"mtime":1612429726018,"results":"21","hashOfConfig":"19"},{"size":1200,"mtime":1612491776857,"results":"22","hashOfConfig":"19"},{"size":535,"mtime":1612436995197,"results":"23","hashOfConfig":"19"},{"size":1984,"mtime":1612437065824,"results":"24","hashOfConfig":"19"},{"size":3967,"mtime":1612438596057,"results":"25","hashOfConfig":"19"},{"size":1245,"mtime":1612429726060,"results":"26","hashOfConfig":"19"},{"size":1736,"mtime":1612351625290,"results":"27","hashOfConfig":"19"},{"size":1302,"mtime":1612513016454,"results":"28","hashOfConfig":"19"},{"size":1044,"mtime":1612438432233,"results":"29","hashOfConfig":"19"},{"size":1584,"mtime":1612429726137,"results":"30","hashOfConfig":"19"},{"size":2013,"mtime":1612501076224,"results":"31","hashOfConfig":"19"},{"size":704,"mtime":1612429725905,"results":"32","hashOfConfig":"19"},{"size":641,"mtime":1612351625215,"results":"33","hashOfConfig":"19"},{"size":600,"mtime":1612328959277,"results":"34","hashOfConfig":"19"},{"size":154,"mtime":1612328959398,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},"1r4ddho",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"41"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/EnquiryForm.jsx",["74"],"import Row from 'react-bootstrap/Row'\nimport createEnquiry from '../Services/enquiryServices'\nimport React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useGlobalState} from '../utils/stateContext'\nimport axios from \"axios\";\n\n// export default class EnquiryForm extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.submitForm = this.submitForm.bind(this);\n//     this.state = {\n//       status: \"\"\n//     };\n//   }\n\nexport default function EnquiryForm() {\n\tconst initialFormState = {\n    first_name: '',\n    last_name: '',\n    organisation: '', \n\t\temail: '', \n    phone_number: '',\n    admin_id: 1,\n  }\n\n  const [serverState, setServerState] = useState({\n    submitting: false,\n    status: null\n  })\n\n  const [formState, setFormState] = useState(initialFormState)\n  const {dispatch} = useGlobalState()\n  let history = useHistory()\n  function handleChange(event) {\n    setFormState({\n      ...formState,\n      [event.target.name]: event.target.value\n    })\n  }\n  // const { status } = formState;\n  \n    function submitForm(event) {\n      event.preventDefault();\n      createEnquiry({...formState})\n      .then((post) => {\t\t\n        dispatch({type: 'addEnquiry', data: post});\n        history.push('/adminenquiries')\n      })\n      .catch((error) => console.log(error))\n    }\n    \n  const handleServerResponse = (ok, msg, form) => {\n    setServerState({\n      submitting: false,\n      status: { ok, msg }\n    });\n    if (ok) {\n      form.reset();\n    } \n  }\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    setServerState({ submitting: true });\n    axios({\n      method: \"post\",\n      url: \"https://formspree.io/f/mgepdgee\",\n      // data: new FormData(form)\n      data: formState\n    })\n      .then(r => { console.log(\"posted\");\n        handleServerResponse(true, \"Thanks!\", form);\n      })\n      .catch(r => {\n        handleServerResponse(false, \"failed\", form);\n      });\n  };\n\n//   function twofunction() {\n//     submitForm();\n//     handleOnSubmit();\n  \n// }\n\n  // function form(ev){\n  // ev.preventDefault()\n  //   const form = ev.target;\n  //   const data = new FormData(form);\n  //   // const data = new formState();\n  //   const xhr = new XMLHttpRequest();\n  //   xhr.open(form.method, form.action);\n  //   xhr.setRequestHeader(\"Accept\", \"application/json\");\n  //   xhr.onreadystatechange = () => {\n  //       if (xhr.readyState !== XMLHttpRequest.DONE) return;\n  //     if (xhr.status === 200) {\n  //       form.reset();\n  //       // this.setState({ status: \"SUCCESS\" });\n  //     } else {\n  //       // this.setState({ status: \"ERROR\" });\n  //     }\n  //   };\n  //   // xhr.send(data);\n  //   xhr.send(data);\n  // }\n\n    \n    return (\n      // <div onSubmit={form}>\n      <form\n      // onSubmit={handleOnSubmit}\n      action=\"https://formspree.io/f/mgepdgee\"\n      method=\"POST\"\n      >\n        <h1 id=\"enquiry-title\">ENQUIRIES</h1>\n        <div id=\"enquiry-table\" className=\"container-fluid\">\n          <Row md={2} className=\"col p-3\">\n        <label className=\"contact-title col-sm-6\">First Name:</label>\n        <input type=\"text\" name=\"first_name\" className=\"input-fill col-sm-6\" value={formState.first_name} onChange={handleChange}/>\n        <label className=\"contact-title col-sm-6\">Last Name:</label>\n        <input type=\"text\" name=\"last_name\" className=\"input-fill col-sm-6\" value={formState.last_name} onChange={handleChange}/>\n        <label className=\"contact-title col-sm-6\">Organisation:</label>\n        <input type=\"text\" name=\"organisation\" className=\"input-fill col-sm-6\" value={formState.organisation} onChange={handleChange}/>\n        <label className=\"contact-title col-sm-6\">Email:</label>\n        <input type=\"email\" name=\"email\" className=\"input-fill col-sm-6\" value={formState.email} onChange={handleChange}/>\n        <label className=\"contact-title col-sm-6\">Phone:</label>\n        <input type=\"tel\" name=\"phone_number\" className=\"input-fill col-sm-6\" value={formState.phone_number} onChange={handleChange}/>\n        <label id=\"enquiry-content\" className=\"contact-title col-sm-6\">Enquiry:</label>\n        <input type=\"text\" name=\"description\" className=\"input-fill col-sm-6\" value={formState.description} onChange={handleChange}/>\n        <div id=\"button-parent\" class=\"offset-sm-6\"><button id=\"button\" class=\"\" onClick={handleOnSubmit}>Submit</button></div>\n        {serverState.status && (\n          <p className={!serverState.status.ok ? \"errorMsg\" : \"\"}>\n            {serverState.status.msg}\n          </p>\n        )}\n        </Row>\n        </div>\n      </form>\n    // </div>\n    )\n  \n}\n\n\n  \n  \n ","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Home.js",[],["75","76"],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/NewUser.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Services/enquiryServices.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Posts.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Adminenquiries.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Main.js",["77","78","79","80","81","82"],"// import React, { Component } from \"react\";\nimport React,{useState, useReducer, useEffect} from 'react'\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\"\nimport {getPosts} from './Services/postServices'\nimport {getEnquiries} from './Services/enquiryServices'\nimport stateReducer from './utils/stateReducer'\nimport {StateContext} from './utils/stateContext'\nimport Home from \"./Components/Home\"\nimport Gallery from \"./Components/Gallery\"\nimport Contact from \"./Components/Contact\"\nimport About from \"./Components/About\"\nimport Adminenquiries from \"./Components/Adminenquiries\"\nimport Adminposts from \"./Components/Adminposts\"\nimport Post from \"./Components/Post\"\nimport Posts from \"./Components/Posts\"\nimport postAPI from \"./Services/postServices\"\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport BackgroundVideo from \"./BackgroundVideo.jsx\"\nimport {signOut} from './Services/authServices'\nimport Navi from './Components/Navi'\nimport SignIn from './Components/SignIn'\nimport NewUser from './Components/NewUser'\nimport NewPost from './Components/NewPost'\nimport EnquiryForm from './Components/EnquiryForm'\nimport Enquiry from './Components/Enquiry'\n\n \n\nconst Main = () => {\n\tconst initialState = {\n    posts: [],\n    enquiries: [],\n\t\tloggedInUser: sessionStorage.getItem(\"user\") || null,\n\t\tauth: {token:sessionStorage.getItem(\"token\") || null}\n  }\n  \n  const [store, dispatch] = useReducer(stateReducer,initialState)\n\tuseEffect(() => {\n    getPosts()\n\t\t.then((posts) => dispatch({type: 'setPosts', data: posts}))\n\t\t.catch((error) => console.log(error))\n  },[])\n\n  useEffect(() => {\n    getEnquiries()\n\t\t.then((enquiries) => dispatch({type: 'setEnquiries', data: enquiries}))\n\t\t.catch((error) => console.log(error))\n  },[])\n\n  //wrong syntax\n  // useEffect(() => {\n  //   getEnquiries()\n\t// \t.then((enquiries) => dispatch({type: 'setEnquiries', data: enquiries}))\n\t// \t.catch((error) => console.log(error))\n  // },[])\n\n  //kinda works but doesn't actully. doesn;t show posts\n  //  useEffect(async () => {\n  //   getPosts()\n  //    const posts = await getPosts\n  //    dispatch({type: 'getPosts', data: posts})\n  //   getEnquiries()\n  //   const queries = await getEnquiries\n  //   dispatch({type: 'getEnquiries', data: queries})\n  // }, [])\n\n//   useEffect(() => {\n//     getPosts()\n//     //  .then(posts => {\n//     //     setPosts(result.posts);\n//     //  })\n//     .then((posts) => dispatch({type: 'setPosts', data: posts}))\n//      .catch(console.error)\n// }, [setPosts]);\n\n    return (\n    <HashRouter>\n        <div>\n          <StateContext.Provider value={{store,dispatch}}>\n            <BackgroundVideo />\n              <Navi/>\n                <div className=\"content\">\n                  <Route exact path=\"/\" component={Home}/>\n                  <Route path=\"/about\" component={About}/>\n                  <Route path=\"/gallery\" component={Gallery}/>\n                  <Route path=\"/contact\" component={Contact}/>\n                  <Route exact path=\"/adminenquiries\" component={Adminenquiries}/>\n                  <Route exact path='/adminenquiries/new' component={EnquiryForm} />\n\t\t\t\t\t\t      <Route exact path='/adminenquiries/update/:id' component={EnquiryForm} />\n                  <Route exact path='/adminenquiries/:id' component={Enquiry}/>\n                  <Route path=\"/adminposts\" component={Adminposts}/>\n                  <Route exact path=\"/posts\" component={Posts}/>\n                  <Route exact path='/posts/new' component={NewPost} />\n\t\t\t\t\t\t      <Route exact path='/posts/update/:id' component={NewPost} />\n                  <Route exact path=\"/post/:id\" component={Post}/>\n                  <Route path='/sign_in' component={SignIn}/>\n                  <Route path='/register' component={NewUser}/>\n                </div>\n          </StateContext.Provider>\n        </div>\n      </HashRouter>\n\n    );\n}\n\n \nexport default Main;","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/SignIn.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/utils/stateReducer.js",["83","84","85","86"],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Enquiry.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Post.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Services/postServices.js",["87"],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/NewPost.js",["88"],"import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {createPost, getPost, updatePost} from '../Services/postServices'\nimport {useGlobalState} from '../utils/stateContext'\n\nexport default function NewPost() {\n\tconst initialFormState = {\n\t\tadmin_id: 1,\n\t\tname: '',\n\t\ttext: ''\n\t}\n\tconst [formState,setFormState] = useState(initialFormState)\n\tlet history = useHistory()\n\tlet {id} = useParams()\n\tconst {dispatch, store} = useGlobalState()\n\tconst {posts} = store;\n\n\tuseEffect(() => {\n\t\tif(id) {\n\t\t\tgetPost(id)\n\t\t\t.then((post) => {\n\t\t\t\tconsole.log(post)\n\t\t\t\t// const category = categories.find((category) => category.name.toLowerCase() === joke.category.toLowerCase())\n\t\t\t\tsetFormState({\n\t\t\t\t\tadmin_id: 1,\n\t\t\t\t\tname: post.name,\n\t\t\t\t\ttext: post.text\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},[id])\n\n\tfunction handleChange(event) {\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t\t\n\t}\n\n\tfunction handleClick(event) {\n\t\tevent.preventDefault()\n\t\tif(id) {\n\t\t\tupdatePost( {id: id, ...formState})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: 'updatePost', data: {id: id, ...formState}})\n\t\t\t\t// history.push(`/post/${id}`)\n\t\t\t\thistory.push('/posts')\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\t\n\t\t\tcreatePost({...formState})\n\t\t\t.then((post) => {\t\t\n\t\t\t\tdispatch({type: 'addPost', data: post})\n\t\t\t\thistory.push('/posts')\n\t\t\t})\n\t\t\t.catch((error) => console.log(error))\n\t\t}\n\t}\n\treturn (\n\t\t<div>\n\t\t\t{/* <label>Category:</label> */}\n\t\t\t{/* <select name='category_id' value={formState.category_id} onChange={handleChange}> */}\n\t\t\t\t{/* {categories.map((category) => <option key={category.id} value={category.id}>{category.name}</option>)}\n\t\t\t</select> */}\n\t\t\t<label>Job Name:</label>\n\t\t\t<textarea type='text' name='name' value={formState.name} onChange={handleChange}></textarea>\n\t\t\t<label>Job description:</label>\n\t\t\t<textarea type='text' name='text' value={formState.text} onChange={handleChange}></textarea>\n\t\t\t<button onClick={handleClick}>{id ? 'Update' : 'Create'}</button>\n\t\t</div>\n\t)\n}\n","/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/About.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Gallery.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/Components/Adminposts.js",[],"/mnt/c/ca-projects/assignment/T3A2/react/CLSS-react/src/utils/stateContext.js",[],{"ruleId":"89","severity":1,"message":"90","line":43,"column":14,"nodeType":"91","messageId":"92","endLine":43,"endColumn":24},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"89","severity":1,"message":"97","line":2,"column":15,"nodeType":"91","messageId":"92","endLine":2,"endColumn":23},{"ruleId":"89","severity":1,"message":"98","line":5,"column":3,"nodeType":"91","messageId":"92","endLine":5,"endColumn":10},{"ruleId":"89","severity":1,"message":"99","line":20,"column":8,"nodeType":"91","messageId":"92","endLine":20,"endColumn":15},{"ruleId":"89","severity":1,"message":"100","line":21,"column":8,"nodeType":"91","messageId":"92","endLine":21,"endColumn":14},{"ruleId":"89","severity":1,"message":"101","line":22,"column":8,"nodeType":"91","messageId":"92","endLine":22,"endColumn":11},{"ruleId":"89","severity":1,"message":"102","line":24,"column":9,"nodeType":"91","messageId":"92","endLine":24,"endColumn":16},{"ruleId":"103","severity":1,"message":"104","line":26,"column":52,"nodeType":"105","messageId":"106","endLine":26,"endColumn":54},{"ruleId":"103","severity":1,"message":"107","line":27,"column":57,"nodeType":"105","messageId":"106","endLine":27,"endColumn":59},{"ruleId":"103","severity":1,"message":"104","line":58,"column":71,"nodeType":"105","messageId":"106","endLine":58,"endColumn":73},{"ruleId":"103","severity":1,"message":"107","line":59,"column":71,"nodeType":"105","messageId":"106","endLine":59,"endColumn":73},{"ruleId":"89","severity":1,"message":"108","line":10,"column":10,"nodeType":"91","messageId":"92","endLine":10,"endColumn":23},{"ruleId":"89","severity":1,"message":"109","line":16,"column":9,"nodeType":"91","messageId":"92","endLine":16,"endColumn":14},"no-unused-vars","'submitForm' is defined but never used.","Identifier","unusedVar","no-native-reassign",["110"],"no-negated-in-lhs",["111"],"'useState' is defined but never used.","'NavLink' is defined but never used.","'postAPI' is defined but never used.","'Navbar' is defined but never used.","'Nav' is defined but never used.","'signOut' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'transformPost' is defined but never used.","'posts' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]